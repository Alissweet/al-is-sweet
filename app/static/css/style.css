/* ════════════════════════════════════════════════════════════════
   AL' IS SWEET — PREMIUM EDITORIAL EDITION
   Refonte complète : angles, or, hiérarchie claire
   Structure : 15 sections + Media Queries en fin de fichier
   ════════════════════════════════════════════════════════════════ */


/* ════════════════════════════════════════════════════════════════
   01. VARIABLES & RESET
   ════════════════════════════════════════════════════════════════ */

:root {
    /* Palette */
    --bg-body:          #fdfbf7;
    --bg-card:          #ffffff;
    --choco-dark:       #3e2723;
    --choco-ink:        #1a1208;
    --choco-mid:        #6d4c41;
    --choco-milk:       #8d6e63;
    --terracotta:       #c59d85;
    --terracotta-dark:  #a67c65;
    --cream:            #efebe9;
    --cream-deep:       #e0d5cc;
    --gold:             #c8a96e;
    --gold-light:       #d4b87a;

    /* La révolution : quasi zéro rondeur */
    --radius-pill: 3px;
    --radius-card: 4px;
    --radius-sm:   2px;

    /* Ombres — plus chirurgicales */
    --shadow-sm:         0 2px 12px rgba(62, 39, 35, 0.07);
    --shadow-hover:      0 12px 40px rgba(62, 39, 35, 0.16);
    --shadow-btn:        0 2px 8px rgba(62, 39, 35, 0.18);
    --shadow-btn-hover:  0 6px 20px rgba(62, 39, 35, 0.28);

    /* Transitions */
    --transition-base:   0.2s ease;
    --transition-spring: 0.35s cubic-bezier(0.4, 0, 0.2, 1);
}

*, *::before, *::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Poppins', sans-serif;
    background-color: var(--bg-body);
    color: var(--choco-dark);
    line-height: 1.6;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

h1, h2, h3, h4 {
    font-family: 'Playfair Display', serif;
    font-weight: 700;
    color: var(--choco-dark);
}

a {
    text-decoration: none;
    color: inherit;
    transition: var(--transition-base);
}

img { max-width: 100%; }


/* ════════════════════════════════════════════════════════════════
   02. TYPOGRAPHIE & UTILITAIRES
   ════════════════════════════════════════════════════════════════ */

.font-playfair    { font-family: 'Playfair Display', serif; }
.font-family-sans { font-family: 'Poppins', sans-serif; }
.text-choco       { color: var(--choco-dark); }
.text-choco-dark  { color: var(--choco-dark); }
.text-terracotta  { color: var(--terracotta) !important; }
.text-terracotta:hover { color: var(--choco-dark) !important; text-decoration: underline; }
.bg-terracotta       { background-color: var(--terracotta); }
.bg-terracotta-light { background-color: rgba(197, 157, 133, 0.15); }
.main-content { flex: 1; }


/* ════════════════════════════════════════════════════════════════
   03. NAVBAR — Structurée par séparateurs, premium éditorial
   ════════════════════════════════════════════════════════════════ */

.navbar-premium {
    background: var(--bg-body);
    /* Ligne d'or en haut — signature luxe */
    box-shadow: inset 0 3px 0 0 var(--gold), 0 1px 0 var(--cream-deep);
    padding: 0;
    position: sticky;
    top: 0;
    z-index: 1000;
}

/* Brand */
.navbar-brand {
    display: flex;
    align-items: center;
    gap: 6px;
    text-decoration: none;
    padding: 0 1.8rem 0 0;
    border-right: 1px solid var(--cream-deep);
    margin-right: 1.5rem;
    height: 72px;
    transition: opacity var(--transition-base);
    flex-shrink: 0;
}
.navbar-brand:hover { opacity: 0.85; filter: none; }

.brand-logo {
    width: 52px;
    height: 52px;
    object-fit: contain;
    flex-shrink: 0;
}

.brand-text {
    font-family: 'Pinyon Script', cursive;
    font-size: 2.2rem;
    background: linear-gradient(135deg, var(--gold) 0%, var(--terracotta-dark) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-weight: 400;
    white-space: nowrap;
}

/* Nav Links */
.navbar-nav { align-items: stretch; }
.nav-item   { display: flex; }

.nav-link-premium {
    position: relative;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    color: var(--choco-milk);
    font-weight: 500;
    font-size: 0.78rem;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    padding: 0 1rem;
    height: 72px;
    margin: 0;
    transition: color var(--transition-base);
    white-space: nowrap;
}

.nav-link-premium::after {
    content: '';
    position: absolute;
    bottom: 0; left: 0; right: 0;
    height: 2px;
    background: var(--gold);
    transform: scaleX(0);
    transform-origin: left;
    transition: transform var(--transition-spring);
}

.nav-link-premium:hover               { color: var(--choco-dark); }
.nav-link-premium:hover::after         { transform: scaleX(1); }
.nav-link-premium.active               { color: var(--choco-dark); font-weight: 600; }
.nav-link-premium.active::after        { transform: scaleX(1); }
.nav-link-premium i { font-size: 0.9rem; opacity: 0.8; }

/* Zone droite */
.navbar-actions {
    display: flex;
    align-items: stretch;
    gap: 0;
    margin-left: auto;
    border-left: 1px solid var(--cream-deep);
    height: 72px;
}

/* Search intégrée — plus de "pill" flottante */
.search-container {
    display: flex;
    align-items: center;
    height: 100%;
    padding: 0 1.4rem;
    border-right: 1px solid var(--cream-deep);
    gap: 10px;
}

.search-form-premium {
    display: flex;
    align-items: center;
    gap: 10px;
    background: transparent;
    border-radius: 0;
    box-shadow: none;
    height: 100%;
}
.search-form-premium:focus-within { box-shadow: none; transform: none; }

.search-form-premium .search-input-premium {
    border: none;
    outline: none;
    background: transparent;
    font-family: 'Poppins', sans-serif;
    font-size: 0.85rem;
    color: var(--choco-dark);
    width: 150px;
    transition: width var(--transition-spring);
}
.search-form-premium .search-input-premium::placeholder { color: var(--choco-milk); opacity: 0.6; }
.search-form-premium .search-input-premium:focus        { width: 210px; }

.search-btn-premium {
    background: none;
    border: none;
    color: var(--choco-milk);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    font-size: 1rem;
    transition: color var(--transition-base);
    flex-shrink: 0;
}
.search-btn-premium:hover { color: var(--gold); }

/* User actions */
.user-actions {
    display: flex;
    align-items: stretch;
    gap: 0;
    height: 100%;
}

/* Badge utilisateur — structuré, pas pill */
.user-badge {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 0 1.4rem;
    font-size: 0.78rem;
    font-weight: 600;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    color: var(--choco-dark);
    background: transparent;
    border-right: 1px solid var(--cream-deep);
    white-space: nowrap;
    border-radius: 0;
    box-shadow: none;
}
/* Seul élément rond : l'avatar */
.user-badge i {
    width: 28px; height: 28px;
    border-radius: 50%;
    background: var(--cream);
    display: flex; align-items: center; justify-content: center;
    font-size: 0.85rem;
    color: var(--terracotta-dark);
}

/* Déconnexion */
.btn-logout {
    display: flex;
    align-items: center;
    gap: 7px;
    height: 100%;
    padding: 0 1.4rem;
    font-family: 'Poppins', sans-serif;
    font-size: 0.78rem;
    font-weight: 600;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: var(--choco-milk);
    background: none;
    border: none;
    border-radius: 0;
    box-shadow: none;
    cursor: pointer;
    transition: all var(--transition-base);
    text-decoration: none;
}
.btn-logout:hover { color: #c0392b; background: rgba(192, 57, 43, 0.05); }

/* Connexion */
.btn-login {
    display: flex;
    align-items: center;
    gap: 7px;
    height: 100%;
    padding: 0 1.4rem;
    font-family: 'Poppins', sans-serif;
    font-size: 0.78rem;
    font-weight: 600;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: var(--choco-milk);
    background: none;
    border: none;
    border-right: 1px solid var(--cream-deep);
    border-radius: 0;
    transition: all var(--transition-base);
    text-decoration: none;
}
.btn-login:hover { color: var(--choco-dark); background: var(--cream); }

/* Inscription — bouton fort */
.btn-register {
    display: flex;
    align-items: center;
    gap: 7px;
    height: 100%;
    padding: 0 1.6rem;
    font-family: 'Poppins', sans-serif;
    font-size: 0.78rem;
    font-weight: 700;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: white;
    background: var(--choco-dark);
    border: none;
    border-radius: 0;
    position: relative;
    overflow: hidden;
    transition: background var(--transition-base);
    text-decoration: none;
}
.btn-register::before {
    content: '';
    position: absolute; left: 0; top: 0; bottom: 0;
    width: 3px;
    background: var(--gold);
}
.btn-register:hover { background: var(--choco-ink); color: white; }

/* Toggler mobile */
.navbar-toggler {
    border: 1px solid var(--cream-deep);
    padding: 8px 12px;
    border-radius: var(--radius-sm);
    background: transparent;
}
.navbar-toggler:focus { box-shadow: 0 0 0 2px rgba(200, 169, 110, 0.3); }
.navbar-toggler-icon {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(141, 110, 99, 1)' stroke-linecap='square' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
}
.navbar-collapse { align-items: stretch; }


/* ════════════════════════════════════════════════════════════════
   04. FOOTER
   ════════════════════════════════════════════════════════════════ */

.footer {
    margin-top: auto;
    background: linear-gradient(180deg, var(--choco-mid) 0%, var(--bg-body) 100%);
    padding: 4rem 0 2rem;
    color: white;
    text-align: center;
}

.footer-brand {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 1.5rem;
}

.brand-logo-footer {
    height: 80px;
    margin-bottom: 0.5rem;
    filter: drop-shadow(0 0 8px rgba(255,255,255,0.2));
}

.footer-brand span {
    font-family: 'Pinyon Script', cursive;
    font-size: 3.2rem;
    color: white;
    line-height: 1;
}

.footer-text {
    font-size: 0.95rem;
    opacity: 0.85;
    margin-bottom: 2rem;
    font-weight: 300;
}

.footer-divider {
    border-top: 1px solid rgba(255,255,255,0.2);
    width: 140px;
    margin: 0 auto 2rem;
}

.footer-copyright {
    color: var(--choco-dark);
    font-size: 0.85rem;
    font-weight: 500;
    opacity: 0.75;
}
.footer-copyright i { color: #e53935; animation: heartbeat 1.5s infinite; }

@keyframes heartbeat {
    0%, 100% { transform: scale(1); }
    50%       { transform: scale(1.2); }
}


/* ════════════════════════════════════════════════════════════════
   05. COMPOSANTS GLOBAUX
   ════════════════════════════════════════════════════════════════ */

/* Bouton générique terracotta */
.btn-terracotta {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background-color: var(--terracotta);
    color: white;
    font-weight: 600;
    font-size: 0.82rem;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    border-radius: var(--radius-sm);
    padding: 0.75rem 1.5rem;
    border: none;
    transition: all var(--transition-base);
    cursor: pointer;
    text-decoration: none;
}
.btn-terracotta:hover { background-color: var(--choco-dark); color: white; box-shadow: var(--shadow-btn-hover); }

/* Bouton Créer — carré, fort, accent doré latéral */
.btn-add-recipe {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: linear-gradient(135deg, var(--terracotta-dark) 0%, var(--choco-dark) 100%);
    color: white;
    border: none;
    border-radius: var(--radius-sm);
	border-bottom: 2px solid var(--gold);
    padding: 0 1.4rem;
    height: 42px;
    font-family: 'Poppins', sans-serif;
    font-weight: 700;
    font-size: 0.78rem;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    text-decoration: none;
    position: relative;
    overflow: hidden;
    transition: background var(--transition-base);
    white-space: nowrap;
    cursor: pointer;
	box-shadow: 0 3px 14px rgba(166, 124, 101, 0.45);
}
.btn-add-recipe::before {
    content: '';
    position: absolute; left: 0; top: 0; bottom: 0;
    width: 3px;
    background: var(--gold);
}

.btn-add-recipe:hover { background: var(--choco-ink); color: white; }
.btn-add-recipe i { font-size: 1.1rem; }

/* Bouton Inspiration — discret, contour fin */
.btn-magic {
    display: inline-flex;
    align-items: center;
    gap: 7px;
    background: none;
    border: 1px solid var(--cream-deep);
    border-radius: var(--radius-sm);
    padding: 0 1.2rem;
    height: 42px;
    font-family: 'Poppins', sans-serif;
    font-weight: 500;
    font-size: 0.78rem;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: var(--choco-milk);
    text-decoration: none;
    cursor: pointer;
    transition: all var(--transition-base);
    white-space: nowrap;
    box-shadow: none;
}
.btn-magic:hover { border-color: var(--gold); color: var(--gold); }
.btn-magic i     { animation: spin-slow 5s linear infinite; font-size: 0.9rem; }

@keyframes spin-slow {
    from { transform: rotate(0deg); }
    to   { transform: rotate(360deg); }
}

/* Bouton Reset Historique */
.btn-reset-history {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    background: #8B0000;
    color: white;
    border: none;
    border-radius: var(--radius-sm);
    padding: 12px 28px;
    font-family: 'Poppins', sans-serif;
    font-weight: 700;
    font-size: 0.8rem;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    cursor: pointer;
    transition: all var(--transition-base);
}
.btn-reset-history:hover { background: #a00000; color: white; box-shadow: 0 4px 20px rgba(139,0,0,0.35); }
.btn-reset-history i     { transition: transform 0.4s ease; }
.btn-reset-history:hover i { transform: rotate(180deg); }

/* Tags */
.recipe-tag {
    background: var(--cream);
    color: var(--terracotta-dark);
    padding: 4px 10px;
    border-radius: var(--radius-sm);
    font-size: 0.78rem;
    font-weight: 700;
    letter-spacing: 0.06em;
    text-transform: uppercase;
}

/* Modal Paramètres */
.nav-pills .nav-link {
    color: var(--choco-dark);
    border-radius: var(--radius-sm);
    margin-bottom: 4px;
    font-size: 0.85rem;
    transition: all var(--transition-base);
}
.nav-pills .nav-link:hover  { background-color: var(--cream); color: var(--choco-dark); }
.nav-pills .nav-link.active { background-color: var(--choco-dark); color: white; box-shadow: var(--shadow-btn); }

/* Pagination */
.pagination-pill .page-link {
    border-radius: var(--radius-sm);
    color: var(--choco-dark);
    border: 1px solid var(--cream-deep);
    padding: 8px 18px;
    margin: 0 3px;
    font-size: 0.82rem;
    font-weight: 600;
    letter-spacing: 0.04em;
    transition: all var(--transition-base);
}
.pagination-pill .page-item.active .page-link { background: var(--choco-dark); border-color: var(--choco-dark); color: white; }
.pagination-pill .page-link:hover              { background: var(--cream); color: var(--choco-dark); }


/* ════════════════════════════════════════════════════════════════
   06. INDEX — COMMAND CENTER & FILTRES
   ════════════════════════════════════════════════════════════════ */

.command-center { margin-bottom: 2.5rem; }

/* Filtres : barre unifiée horizontale */
.filters-container {
    display: flex;
    align-items: stretch;
    gap: 4px;
    background: white;
    border: 1px solid var(--cream-deep);
    border-radius: var(--radius-sm);
    overflow: hidden;
    margin-bottom: 2rem;
    box-shadow: var(--shadow-sm);
    flex-wrap: nowrap;
    padding: 5px;
}

/* Bloc recherche */
.search-wrapper {
    display: flex;
    align-items: center;
    flex: 2;
    padding: 0 1.2rem;
    gap: 10px;
    border-right: none;
    min-width: 180px;
    background: var(--bg-body);
    border-radius: calc(var(--radius-sm) - 3px);
    transition: background var(--transition-base), box-shadow var(--transition-base);
}
.search-wrapper:hover {
    background: var(--cream-deep);
    box-shadow: inset 0 0 0 1px var(--terracotta);
}

.search-group-premium {
    display: flex;
    align-items: center;
    gap: 10px;
    width: 100%;
    height: 52px;
    background: transparent;
    border: none;
    border-radius: 0;
    padding: 0;
    box-shadow: none;
}
.search-group-premium:focus-within { box-shadow: none; border-color: transparent; transform: none; }

.search-group-premium .search-input-premium {
    border: none !important;
    outline: none !important;
    background: transparent !important;
    box-shadow: none !important;
    height: 100%;
    padding-left: 0;
    font-size: 0.9rem;
    font-family: 'Poppins', sans-serif;
    color: var(--choco-dark);
    font-weight: 400;
    flex-grow: 1;
    width: auto;
}
.search-group-premium .search-input-premium::placeholder { color: var(--choco-milk); opacity: 0.5; }

.search-group-premium .search-btn-premium {
    background: none;
    border: none;
    color: var(--choco-milk);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    font-size: 1rem;
    transition: color var(--transition-base);
    flex-shrink: 0;
    border-radius: 0;
    width: auto; height: auto; margin: 0;
}
.search-group-premium .search-btn-premium:hover { color: var(--gold); background: none; transform: none; }

/* Selects dans la barre */
.filter-wrapper {
    display: flex;
    align-items: center;
    border-right: none;
    position: relative;
    flex: 1;
    min-width: 110px;
    background: var(--bg-body);
    border-radius: calc(var(--radius-sm) - 3px);
    transition: background var(--transition-base), box-shadow var(--transition-base);
}


.filter-wrapper:last-child { border-right: none; flex: 0 0 auto; min-width: auto; }

.form-select-filter {
    appearance: none;
    width: 100%;
    height: 52px;
    padding: 0 2.4rem 0 1.2rem;
    border: none;
    border-radius: 0;
    background-color: transparent;
    color: var(--choco-dark);
    font-family: 'Poppins', sans-serif;
    font-size: 0.82rem;
    font-weight: 600;
    letter-spacing: 0.03em;
    cursor: pointer;
    transition: background var(--transition-base), box-shadow var(--transition-base);
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23a67c65' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right 1rem center;
    background-size: 11px 8px;
}
.form-select-filter:hover  { background-color: var(--cream-deep); box-shadow: inset 0 0 0 1px var(--terracotta); }
.form-select-filter:focus  { outline: none; background-color: var(--bg-body); }

/* Reset filtres */
.btn-reset-filters {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 52px; height: 52px;
    border-radius: 0;
    background: white;
    border: none;
    border-left: 1px solid var(--cream-deep);
    color: #c0392b;
    font-size: 0.85rem;
    cursor: pointer;
    transition: all var(--transition-base);
    text-decoration: none;
    box-shadow: none;
}
.btn-reset-filters:hover { background: rgba(192,57,43,0.06); color: #c0392b; transform: rotate(90deg); }

/* Catégories — onglets éditoriaux, plus de pills */
.category-nav {
    display: flex;
    align-items: center;
    gap: 0;
    border-bottom: 1px solid var(--cream-deep);
    margin-bottom: 2.5rem;
    overflow-x: auto;
    scrollbar-width: none;
    flex-wrap: nowrap;
}
.category-nav::-webkit-scrollbar { display: none; }

.cat-pill {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 0.7rem 1.2rem;
    font-family: 'Poppins', sans-serif;
    font-size: 0.78rem;
    font-weight: 500;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    color: var(--choco-milk);
    background: none;
    border: none;
    border-bottom: 2px solid transparent;
    margin-bottom: -1px;
    cursor: pointer;
    transition: all var(--transition-base);
    white-space: nowrap;
    border-radius: 0;
    box-shadow: none;
}
.cat-pill:hover { color: var(--choco-dark); background: none; transform: none; box-shadow: none; }
.cat-pill.active {
    color: var(--choco-dark);
    font-weight: 700;
    border-bottom-color: var(--gold);
    background: none; transform: none; box-shadow: none;
}


/* ════════════════════════════════════════════════════════════════
   07. RECIPE CARDS — Magazine, angulaire
   ════════════════════════════════════════════════════════════════ */

.recipe-card {
    background: var(--bg-card);
    border-radius: 0;
    overflow: hidden;
    box-shadow: none;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    height: 100%;
    display: flex;
    flex-direction: column;
    border: 1px solid var(--cream-deep);
    cursor: pointer;
    position: relative;
}
.recipe-card:hover {
    transform: scale(1.012);
    box-shadow: var(--shadow-hover);
    z-index: 2;
    border-color: var(--cream-deep);
}

.recipe-card-image {
    height: 220px;
    position: relative;
    overflow: hidden;
}
.recipe-card-image img {
    width: 100%; height: 100%;
    object-fit: cover;
    transition: transform 0.6s ease;
    display: block;
}
.recipe-card:hover img { transform: scale(1.06); }
.recipe-card-image::after { display: none; }

/* Badge catégorie — rectangle plein chocolat, coin */
.badge-category {
    position: absolute;
    top: 0; left: 0;
    background: var(--choco-dark);
    color: white;
    padding: 5px 12px;
    font-size: 0.62rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    border-radius: 0;
    box-shadow: none;
    z-index: 2;
    border-bottom: none;
}

/* Badge glucides */
.badge-carbs {
    position: absolute;
    top: 0; right: 0;
    background: rgba(255,255,255,0.92);
    backdrop-filter: blur(6px);
    color: var(--choco-dark);
    padding: 5px 10px;
    border-radius: 0;
    font-size: 0.7rem;
    font-weight: 700;
    z-index: 2;
    display: flex; align-items: center; gap: 4px;
    border: none;
}
.badge-carbs i { color: var(--gold); font-size: 0.8rem; }

/* Favori — carré */
.btn-card-favorite {
    position: absolute;
    bottom: 10px; right: 10px;
    width: 30px; height: 30px;
    border-radius: var(--radius-sm);
    background: rgba(255,255,255,0.92);
    border: 1px solid var(--cream-deep);
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; z-index: 3;
    color: #ccc; font-size: 0.85rem;
    transition: all var(--transition-base);
}
.btn-card-favorite:hover,
.btn-card-favorite.active { color: #e53935; border-color: #e53935; background: white; transform: none; box-shadow: none; }

/* Corps */
.recipe-card-body {
    padding: 1.4rem;
    display: flex; flex-direction: column; flex: 1;
    background: white;
}

.recipe-card-title {
    font-family: 'Playfair Display', serif;
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--choco-ink);
    line-height: 1.25;
    flex: 1;
    margin-bottom: 0 !important;
    transition: color var(--transition-base);
}
.recipe-card:hover .recipe-card-title { color: var(--choco-dark); }

/* Règle d'or — s'allonge au hover */
.recipe-card-divider {
    height: 1.5px;
    width: 28px;
    background-color: var(--gold);
    margin: 10px 0 12px;
    opacity: 1;
    transition: width 0.3s ease;
}
.recipe-card:hover .recipe-card-divider { width: 48px; }

.recipe-meta-row {
    display: flex;
    align-items: center;
    gap: 14px;
    margin-bottom: 0.8rem;
    font-size: 0.78rem;
    color: var(--choco-milk);
    font-weight: 500;
}
.recipe-meta-row span { display: flex; align-items: center; gap: 5px; }
.recipe-meta-row i    { color: var(--terracotta); font-size: 0.9rem; }

.recipe-card-description {
    font-size: 0.82rem;
    color: var(--choco-milk);
    margin-bottom: 0;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    line-height: 1.6;
    font-style: italic;
    flex: 1;
}

/* Footer carte */
.card-footer-action {
    margin-top: auto;
    padding: 0.8rem 1.4rem;
    border-top: 1px solid var(--cream);
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.72rem;
    font-weight: 700;
    color: var(--terracotta-dark);
    text-transform: uppercase;
    letter-spacing: 0.12em;
    transition: letter-spacing var(--transition-base), color var(--transition-base);
    background: white;
}
.recipe-card:hover .card-footer-action { color: var(--choco-dark); letter-spacing: 0.18em; }

.action-arrow {
    width: 26px; height: 26px;
    background: var(--cream);
    border-radius: var(--radius-sm);
    display: flex; align-items: center; justify-content: center;
    transition: all var(--transition-base);
    font-size: 0.8rem;
}
.recipe-card:hover .action-arrow { background: var(--choco-dark); color: white; transform: translateX(3px); }

/* Placeholder image */
.img-placeholder {
    width: 100%; height: 100%;
    background: linear-gradient(145deg, #f3e8df 0%, #e8d5c4 100%);
    display: flex; align-items: center; justify-content: center;
    position: relative; overflow: hidden;
}
.img-placeholder::before {
    content: ''; position: absolute; inset: 0;
    background-image:
        repeating-linear-gradient(45deg, rgba(197,157,133,0.07) 0px, rgba(197,157,133,0.07) 1px, transparent 1px, transparent 14px),
        repeating-linear-gradient(-45deg, rgba(197,157,133,0.07) 0px, rgba(197,157,133,0.07) 1px, transparent 1px, transparent 14px);
}
.img-placeholder-inner {
    position: relative; z-index: 1;
    display: flex; flex-direction: column; align-items: center; gap: 8px; text-align: center;
}
.img-placeholder-inner i    { font-size: 2rem; color: var(--terracotta); opacity: 0.6; }
.img-placeholder-inner span { font-size: 0.65rem; font-weight: 700; letter-spacing: 0.2em; text-transform: uppercase; color: var(--terracotta-dark); opacity: 0.75; }

.img-placeholder-hero { min-height: 320px; }
.img-placeholder-hero .img-placeholder-inner i    { font-size: 3rem; opacity: 0.45; }
.img-placeholder-hero .img-placeholder-inner span { font-size: 0.8rem; letter-spacing: 0.28em; }

.img-placeholder-thumb { width: 70px; height: 70px; border-radius: var(--radius-sm); flex-shrink: 0; }
.img-placeholder-thumb .img-placeholder-inner i    { font-size: 1.3rem; opacity: 0.55; }
.img-placeholder-thumb .img-placeholder-inner span { display: none; }

/* Sélection shopping */
.card-select-check { position: absolute; top: 8px; left: 8px; z-index: 10; cursor: pointer; }
.card-check-circle {
    width: 28px; height: 28px;
    border-radius: var(--radius-sm);
    background: rgba(255,255,255,0.92); border: 1px solid rgba(255,255,255,0.6);
    backdrop-filter: blur(4px);
    display: flex; align-items: center; justify-content: center;
    color: transparent; font-size: 0.8rem;
    transition: all var(--transition-base);
}
.card-check-circle:hover   { border-color: var(--gold); }
.card-check-circle.active  { background: var(--choco-dark); border-color: var(--choco-dark); color: white; }
.recipe-card.card-selected { outline: 2px solid var(--gold); outline-offset: -2px; }


/* ════════════════════════════════════════════════════════════════
   08. RECIPE DETAIL
   ════════════════════════════════════════════════════════════════ */

.recipe-image-wrapper {
    position: relative;
    width: 100%; max-width: 800px; height: 440px;
    margin: 0 auto 2rem;
    border-radius: var(--radius-card);
    overflow: hidden;
    box-shadow: var(--shadow-sm);
    background-color: var(--cream);
}
.recipe-hero-image { width: 100%; height: 100%; object-fit: cover; object-position: center; display: block; }

/* Favori détail — carré */
.btn-favorite-toggle {
    position: absolute;
    top: 16px; left: 16px;
    width: 40px; height: 40px;
    border-radius: var(--radius-sm);
    background: rgba(255,255,255,0.95);
    border: 1px solid var(--cream-deep);
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; z-index: 10;
    box-shadow: var(--shadow-sm);
    transition: all var(--transition-base);
    color: #ccc;
}
.btn-favorite-toggle i      { font-size: 1.2rem; }
.btn-favorite-toggle:hover  { background: white; color: #e53935; border-color: #e53935; }
.btn-favorite-toggle.active { color: #e53935; background: white; border-color: #e53935; }
.btn-favorite-toggle.active i { animation: heartPop 0.35s ease; }

@keyframes heartPop {
    0%   { transform: scale(1); }
    50%  { transform: scale(1.35); }
    100% { transform: scale(1); }
}

.recipe-main-title {
    font-family: 'Playfair Display', serif;
    font-size: 2.4rem;
    color: var(--choco-ink);
    text-align: center;
    margin-bottom: 1rem;
}

.action-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem; margin-top: 2rem;
}
.btn-action-big {
    padding: 1.25rem 1.5rem;
    border-radius: var(--radius-sm);
    border: none;
    font-family: 'Poppins', sans-serif;
    font-weight: 700; font-size: 0.82rem;
    letter-spacing: 0.08em; text-transform: uppercase;
    display: flex; flex-direction: column; align-items: center; gap: 10px;
    transition: all var(--transition-base);
    box-shadow: var(--shadow-btn);
    cursor: pointer;
}
.btn-action-big i  { font-size: 1.6rem; }
.btn-shopping      { background: white; color: var(--choco-dark); border: 1px solid var(--cream-deep); }
.btn-shopping:hover { background: var(--cream); box-shadow: var(--shadow-btn-hover); }
.btn-cook          { background: var(--choco-dark); color: white; }
.btn-cook:hover    { background: var(--choco-ink); color: white; box-shadow: var(--shadow-btn-hover); }

/* Sections recette */
.recipe-section {
    background: white;
    border-radius: var(--radius-card);
    padding: 1.75rem; margin-bottom: 1.25rem;
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--cream-deep);
}
.recipe-section-title {
    font-family: 'Playfair Display', serif;
    font-size: 1.2rem; color: var(--choco-dark);
    margin-bottom: 1.2rem;
    display: flex; align-items: center; gap: 8px;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid var(--cream);
}
.recipe-section-title i { color: var(--gold); }

.ingredient-item {
    display: flex; align-items: center; gap: 10px;
    padding: 0.55rem 0; border-bottom: 1px solid #f5f0eb;
    font-size: 0.9rem;
}
.ingredient-item:last-child { border-bottom: none; }
.ingredient-qty { font-weight: 700; color: var(--terracotta); min-width: 60px; }

.step-item {
    display: flex; gap: 1rem;
    padding: 0.9rem 0; border-bottom: 1px solid #f5f0eb;
}
.step-item:last-child { border-bottom: none; }
.step-number {
    width: 32px; height: 32px;
    border-radius: var(--radius-sm);
    background: var(--choco-dark); color: white;
    display: flex; align-items: center; justify-content: center;
    font-weight: 700; font-size: 0.82rem; flex-shrink: 0;
}
.step-content  { font-size: 0.9rem; color: #5a5a5a; padding-top: 4px; line-height: 1.6; }
.step-duration {
    display: inline-flex; align-items: center; gap: 4px;
    background: var(--cream); color: var(--choco-milk);
    font-size: 0.72rem; font-weight: 700; letter-spacing: 0.04em;
    padding: 3px 10px; border-radius: var(--radius-sm); margin-top: 6px;
}

.tips-box {
    background: #fdf8f3;
    border-left: 3px solid var(--gold);
    border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
    padding: 1.2rem 1.5rem;
    font-size: 0.9rem; color: #5a5a5a; font-style: italic;
}

.meta-pill {
    display: inline-flex; align-items: center; gap: 6px;
    background: var(--cream); color: var(--choco-milk);
    padding: 5px 12px; border-radius: var(--radius-sm);
    font-size: 0.82rem; font-weight: 500;
}
.meta-pill i { color: var(--terracotta); }

/* Mode Cuisine */
#cookingMode {
    position: fixed; inset: 0;
    background: var(--bg-body); z-index: 9999;
    display: flex; flex-direction: column;
    padding: 2rem; overflow-y: auto;
    transition: transform 0.3s ease;
}
.cooking-header {
    display: flex; justify-content: space-between; align-items: center;
    margin-bottom: 2rem;
    border-bottom: 2px solid var(--gold); padding-bottom: 1rem;
}
.step-card {
    background: white; padding: 2.5rem;
    border-radius: var(--radius-card); box-shadow: var(--shadow-sm);
    flex: 1; display: flex; flex-direction: column;
    justify-content: center; align-items: center;
    text-align: center; margin-bottom: 2rem;
    border: 1px solid var(--cream-deep);
}
.step-number-big    { font-family: 'Pinyon Script', cursive; font-size: 4rem; color: var(--terracotta); line-height: 1; margin-bottom: 1rem; }
.step-instruction-big { font-size: 1.35rem; color: var(--choco-dark); line-height: 1.6; }

.cooking-controls {
    display: grid;
    grid-template-columns: auto 1fr auto;
    align-items: center; gap: 2rem;
    margin-top: auto; padding-top: 1.5rem;
    border-top: 1px solid var(--cream-deep); width: 100%;
}
.progress-bar-custom { height: 3px; background: var(--cream); border-radius: 0; margin-bottom: 2rem; overflow: hidden; }
.progress-fill       { height: 100%; background: var(--gold); width: 0%; transition: width 0.3s ease; }

.chef-tip-box {
    background: #fdf8f3;
    border-left: 3px solid var(--gold);
    border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
    padding: 1rem 1.5rem;
    position: relative; min-height: 80px;
    display: flex; flex-direction: column; justify-content: center;
}
.chef-tip-title {
    font-family: 'Playfair Display', serif; font-weight: 700;
    color: var(--gold); font-size: 1rem;
    margin-bottom: 0.2rem; display: flex; align-items: center; gap: 8px;
}
.chef-tip-text      { font-size: 0.9rem; color: var(--choco-dark); line-height: 1.5; font-style: italic; }
.chef-hat-watermark { display: none; }

/* Contrôle portions */
.servings-control {
    display: inline-flex; align-items: center;
    background: var(--choco-dark);
    border: none; border-radius: var(--radius-sm);
    padding: 3px; box-shadow: var(--shadow-btn);
}
.servings-btn {
    width: 28px; height: 28px;
    border-radius: var(--radius-sm); border: none;
    background: rgba(255,255,255,0.15); color: #fff; font-size: 1rem;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; transition: background 0.2s; flex-shrink: 0;
}
.servings-btn:hover { background: rgba(255,255,255,0.3); }
.servings-display {
    display: flex; align-items: center; gap: 6px;
    padding: 0 12px; font-size: 0.85rem; font-weight: 600;
    color: rgba(255,255,255,0.7); min-width: 80px; justify-content: center;
}
.servings-display i { color: rgba(255,255,255,0.65) !important; }
#servingsDisplay {
    font-family: 'Playfair Display', serif;
    font-size: 1.1rem; font-weight: 700; color: #fff;
    transition: all 0.2s ease; display: inline-block;
}
@keyframes popNumber {
    0%   { transform: scale(1); }
    50%  { transform: scale(1.4); }
    100% { transform: scale(1); }
}
#servingsDisplay.pop { animation: popNumber 0.25s ease; }
.servings-unit { font-size: 0.7rem; font-weight: 500; color: rgba(255,255,255,0.6); }

.servings-modified-badge {
    display: inline-flex !important; align-items: center; gap: 8px;
    background: var(--choco-dark); border: none;
    border-radius: var(--radius-sm); padding: 5px 14px;
    font-size: 0.75rem; font-weight: 600; color: rgba(255,255,255,0.8);
    animation: fadeInDown 0.3s ease;
}
@keyframes fadeInDown {
    from { opacity: 0; transform: translateY(-6px); }
    to   { opacity: 1; transform: translateY(0); }
}
.servings-reset-btn {
    border: none; background: none; color: var(--gold);
    font-size: 0.72rem; font-weight: 700; cursor: pointer;
    text-decoration: underline; transition: color 0.2s;
}
.servings-reset-btn:hover { color: white; }

/* Rating */
.rating-widget { display: flex; flex-direction: column; align-items: center; gap: 10px; padding: 1rem 0; }
.rating-label-top { font-size: 0.62rem; font-weight: 700; letter-spacing: 0.2em; text-transform: uppercase; color: var(--choco-milk); }
.rating-pills { display: flex; gap: 6px; align-items: center; }
.rating-pill {
    display: flex; flex-direction: column; align-items: center; gap: 4px;
    cursor: pointer; border: none; background: none; padding: 0;
    transition: transform 0.2s ease;
}
.rating-pill:hover { transform: translateY(-3px); }
.pill-circle {
    width: 40px; height: 40px;
    border-radius: var(--radius-sm);
    display: flex; align-items: center; justify-content: center;
    font-size: 1.2rem; border: 1px solid var(--cream-deep);
    background: var(--cream); transition: all 0.2s ease;
}
.pill-text { font-size: 0.55rem; font-weight: 700; letter-spacing: 0.06em; color: var(--choco-milk); text-transform: uppercase; white-space: nowrap; }

.rating-pill[data-value="1"].active .pill-circle, .rating-pill[data-value="1"]:hover .pill-circle { background: #fde8e8; border-color: #e57373; }
.rating-pill[data-value="1"].active .pill-text,   .rating-pill[data-value="1"]:hover .pill-text   { color: #c62828; }
.rating-pill[data-value="2"].active .pill-circle, .rating-pill[data-value="2"]:hover .pill-circle { background: #fff3e0; border-color: #ffb74d; }
.rating-pill[data-value="2"].active .pill-text,   .rating-pill[data-value="2"]:hover .pill-text   { color: #e65100; }
.rating-pill[data-value="3"].active .pill-circle, .rating-pill[data-value="3"]:hover .pill-circle { background: #fdf8f3; border-color: var(--gold); }
.rating-pill[data-value="3"].active .pill-text,   .rating-pill[data-value="3"]:hover .pill-text   { color: var(--gold); }
.rating-pill[data-value="4"].active .pill-circle, .rating-pill[data-value="4"]:hover .pill-circle { background: #e8f5e9; border-color: #66bb6a; }
.rating-pill[data-value="4"].active .pill-text,   .rating-pill[data-value="4"]:hover .pill-text   { color: #2e7d32; }
.rating-pill[data-value="5"].active .pill-circle, .rating-pill[data-value="5"]:hover .pill-circle { background: #fdf8f3; border-color: var(--gold); }
.rating-pill[data-value="5"].active .pill-text,   .rating-pill[data-value="5"]:hover .pill-text   { color: var(--gold); }

@keyframes burst {
    0%   { transform: scale(1); }
    40%  { transform: scale(1.3); }
    70%  { transform: scale(0.95); }
    100% { transform: scale(1.05); }
}
.rating-pill.just-rated .pill-circle { animation: burst 0.4s ease forwards; }
.rating-feedback { font-size: 0.75rem; font-style: italic; color: var(--choco-milk); min-height: 18px; }

.rating-mini { display: flex; align-items: center; gap: 4px; }
.rating-mini-dot {
    width: 7px; height: 7px; border-radius: 1px;
    background: var(--cream); border: 1px solid var(--terracotta);
}
.rating-mini-dot.filled   { background: var(--terracotta); }
.rating-mini-dot.filled-4 { background: #66bb6a; border-color: #66bb6a; }
.rating-mini-dot.filled-5 { background: var(--gold); border-color: var(--gold); }
.rating-mini-label { font-size: 0.62rem; font-weight: 600; color: var(--choco-milk); margin-left: 2px; }

/* Aperçu photo */
.img-preview-wrapper { position: relative; display: inline-block; }
.img-thumb { width: 70px; height: 70px; object-fit: cover; cursor: zoom-in; transition: opacity 0.2s, transform 0.2s; }
.img-preview-wrapper:hover .img-thumb { opacity: 0.8; transform: scale(1.04); }
.img-preview-zoom {
    display: none; position: fixed;
    top: 50%; left: 50%; transform: translate(-50%, -50%);
    z-index: 9999; border-radius: var(--radius-card); overflow: hidden;
    box-shadow: 0 20px 60px rgba(62,39,35,0.4);
    border: 2px solid var(--cream-deep); pointer-events: none;
}
.img-preview-zoom img { width: 360px; height: 360px; object-fit: cover; display: block; }
.img-preview-wrapper:hover .img-preview-zoom { display: block; animation: fadeInZoom 0.2s ease forwards; }
@keyframes fadeInZoom {
    from { opacity: 0; transform: translate(-50%, -50%) scale(0.9); }
    to   { opacity: 1; transform: translate(-50%, -50%) scale(1); }
}


/* ════════════════════════════════════════════════════════════════
   09. RECIPE FORM
   ════════════════════════════════════════════════════════════════ */

.recipe-form-container {
    min-height: 100vh;
    background: linear-gradient(135deg, var(--bg-body) 0%, var(--cream) 100%);
    padding-bottom: 4rem;
}
.recipe-form-container * { box-sizing: border-box; }

/* Hero */
.recipe-form-container .form-hero-header {
    background: linear-gradient(135deg, var(--choco-dark) 0%, var(--choco-mid) 100%);
    padding: 3rem 0 4rem; margin-bottom: -2rem;
    position: relative; overflow: hidden;
}
.recipe-form-container .form-hero-header::before {
    content: ''; position: absolute; inset: 0;
    background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M54.627 0l.83.828-1.415 1.415L51.8 0h2.827zM5.373 0l-.83.828L5.96 2.243 8.2 0H5.374zM48.97 0l3.657 3.657-1.414 1.414L46.143 0h2.828zM11.03 0L7.372 3.657 8.787 5.07 13.857 0H11.03zm32.284 0L49.8 6.485 48.384 7.9l-7.9-7.9h2.83zM16.686 0L10.2 6.485 11.616 7.9l7.9-7.9h-2.83zm20.97 0l9.315 9.314-1.414 1.414L34.828 0h2.83zM22.344 0L13.03 9.314l1.414 1.414L25.172 0h-2.83zM32 0l12.142 12.142-1.414 1.414L30 .828 17.272 13.556 15.858 12.14 28 0zm0 3.657l10.728 10.728-1.414 1.414L32 7.484 22.686 16.8l-1.414-1.414L32 3.657z' fill='%23ffffff' fill-opacity='0.03' fill-rule='evenodd'/%3E%3C/svg%3E");
    opacity: 0.25;
}
/* Ligne d'or en haut */
.recipe-form-container .form-hero-header::after {
    content: ''; position: absolute; top: 0; left: 0; right: 0;
    height: 3px; background: var(--gold);
}
.recipe-form-container .hero-content    { position: relative; z-index: 1; text-align: center; }
.recipe-form-container .hero-icon {
    width: 72px; height: 72px; margin: 0 auto 1.5rem;
    background: rgba(255,255,255,0.12); border-radius: var(--radius-card);
    display: flex; align-items: center; justify-content: center;
    border: 1px solid rgba(255,255,255,0.2);
}
.recipe-form-container .hero-icon i { font-size: 2.2rem; color: var(--gold); animation: float-recipe-form 3s ease-in-out infinite; }
@keyframes float-recipe-form { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-8px); } }
.recipe-form-container .hero-title    { font-family: 'Playfair Display', serif; font-size: 2.6rem; color: white; margin-bottom: 0.5rem; }
.recipe-form-container .hero-subtitle { font-size: 1rem; color: rgba(255,255,255,0.85); max-width: 560px; margin: 0 auto; }

/* Barre de progression */
.recipe-form-container .form-progress {
    display: flex; justify-content: center; align-items: center;
    padding: 2rem 0 3rem; position: relative; z-index: 10;
}
.recipe-form-container .progress-step { display: flex; flex-direction: column; align-items: center; gap: 0.5rem; }
.recipe-form-container .step-circle {
    width: 56px; height: 56px; background: white;
    border: 2px solid var(--cream-deep); border-radius: var(--radius-card);
    display: flex; align-items: center; justify-content: center;
    transition: all 0.35s ease; box-shadow: var(--shadow-sm);
}
.recipe-form-container .step-circle i { font-size: 1.4rem; color: var(--choco-milk); }
.recipe-form-container .progress-step.active .step-circle { background: var(--gold); border-color: var(--gold); box-shadow: 0 6px 20px rgba(200,169,110,0.4); }
.recipe-form-container .progress-step.active .step-circle i { color: white; }
.recipe-form-container .step-label { font-size: 0.78rem; font-weight: 600; color: var(--choco-dark); opacity: 0.55; text-transform: uppercase; letter-spacing: 0.05em; }
.recipe-form-container .progress-step.active .step-label { opacity: 1; color: var(--gold); }
.recipe-form-container .progress-line { width: 100px; height: 2px; background: var(--cream-deep); position: relative; top: -14px; }

/* Cards form */
.recipe-form-container .form-card-modern {
    background: white; border-radius: var(--radius-card);
    box-shadow: var(--shadow-sm); overflow: hidden;
    border: 1px solid var(--cream-deep); margin-bottom: 1.5rem;
    transition: box-shadow 0.3s ease;
    opacity: 0; transform: translateY(20px);
}
.recipe-form-container .form-card-modern:hover { box-shadow: var(--shadow-hover); transform: translateY(-3px) !important; }

.recipe-form-container .card-header-elegant {
    background: var(--choco-dark); padding: 1.25rem 1.5rem;
    position: relative; display: flex; justify-content: space-between; align-items: center;
}
.recipe-form-container .card-header-elegant::before {
    content: ''; position: absolute; left: 0; top: 0; bottom: 0;
    width: 3px; background: var(--gold);
}
.recipe-form-container .header-content { display: flex; align-items: center; gap: 1rem; }
.recipe-form-container .header-icon    { font-size: 1.3rem; color: var(--gold); }
.recipe-form-container .header-title   { font-family: 'Playfair Display', serif; font-size: 1.2rem; color: white; margin: 0; }
.recipe-form-container .header-decoration { display: none; }
.recipe-form-container .ingredient-counter {
    background: rgba(255,255,255,0.12); padding: 0.4rem 0.9rem;
    border-radius: var(--radius-sm); display: flex; align-items: center; gap: 0.5rem;
    border: 1px solid rgba(255,255,255,0.2);
}
.recipe-form-container .counter-number { font-size: 1.1rem; font-weight: 700; color: white; }
.recipe-form-container .counter-label  { font-size: 0.72rem; color: rgba(255,255,255,0.8); text-transform: uppercase; letter-spacing: 0.05em; }
.recipe-form-container .card-body-modern { padding: 1.75rem; }

/* Photo upload */
.recipe-form-container .photo-upload-premium  { margin-bottom: 2rem; cursor: pointer; position: relative; }
.recipe-form-container .photo-preview-zone {
    width: 100%; height: 260px; border-radius: var(--radius-card); overflow: hidden;
    background: var(--cream); border: 2px dashed var(--cream-deep); transition: all 0.3s ease;
}
.recipe-form-container .photo-upload-premium:hover .photo-preview-zone { border-color: var(--gold); }
.recipe-form-container .photo-upload-premium.dragover .photo-preview-zone { border-color: var(--gold); border-style: solid; background: #fdf8f3; }
.recipe-form-container .photo-preview-zone img { width: 100%; height: 100%; object-fit: cover; }
.recipe-form-container .photo-preview-zone img.preview-hidden  { display: none; }
.recipe-form-container .photo-preview-zone img.preview-visible { display: block; }
.recipe-form-container .upload-overlay {
    position: absolute; inset: 0;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    background: rgba(255,255,255,0.97);
}
.recipe-form-container .upload-icon-wrapper {
    width: 64px; height: 64px; background: var(--cream); border-radius: var(--radius-card);
    display: flex; align-items: center; justify-content: center;
    margin-bottom: 1rem; border: 1px solid var(--cream-deep);
}
.recipe-form-container .upload-icon-wrapper i { font-size: 1.8rem; color: var(--terracotta); }
.recipe-form-container .upload-title  { font-family: 'Playfair Display', serif; font-size: 1.2rem; color: var(--choco-dark); margin-bottom: 0.4rem; }
.recipe-form-container .upload-hint   { font-size: 0.88rem; color: var(--choco-milk); margin-bottom: 0.3rem; }
.recipe-form-container .upload-format { font-size: 0.75rem; color: var(--choco-milk); opacity: 0.65; }

/* Champs */
.recipe-form-container .form-group-premium { margin-bottom: 1.5rem; }
.recipe-form-container .form-label-premium {
    display: flex; align-items: center; gap: 0.5rem;
    margin-bottom: 0.5rem; font-weight: 700;
    color: var(--choco-dark); font-size: 0.78rem;
    text-transform: uppercase; letter-spacing: 0.05em;
}
.recipe-form-container .label-required { color: #e53935; font-size: 1.1rem; }
.recipe-form-container .form-control-premium,
.recipe-form-container .form-select-premium {
    width: 100%; padding: 0.8rem 1rem;
    border: 1px solid var(--cream-deep); border-radius: var(--radius-sm);
    font-size: 0.92rem; color: var(--choco-dark);
    background: white; font-family: 'Poppins', sans-serif;
    transition: border-color 0.2s ease;
}
.recipe-form-container .form-control-premium:focus,
.recipe-form-container .form-select-premium:focus {
    outline: none; border-color: var(--gold);
    box-shadow: 0 0 0 3px rgba(200,169,110,0.12);
}
.recipe-form-container .form-control-premium::placeholder { color: rgba(62,39,35,0.35); }
.recipe-form-container .textarea-premium { resize: vertical; min-height: 100px; line-height: 1.6; }
.recipe-form-container .select-wrapper { position: relative; }
.recipe-form-container .select-wrapper .form-select-premium { appearance: none; padding-right: 2.5rem; cursor: pointer; }
.recipe-form-container .select-icon { position: absolute; right: 1rem; top: 50%; transform: translateY(-50%); pointer-events: none; color: var(--terracotta); }
.recipe-form-container .char-counter { text-align: right; font-size: 0.72rem; color: var(--choco-milk); margin-top: 0.25rem; }
.recipe-form-container .char-count   { font-weight: 700; color: var(--gold); }

/* Grille temps/portions */
.recipe-form-container .time-servings-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-bottom: 1.5rem; }
.recipe-form-container .input-with-unit { position: relative; }
.recipe-form-container .input-with-unit input { padding-right: 3.5rem; }
.recipe-form-container .unit-badge {
    position: absolute; right: 1rem; top: 50%; transform: translateY(-50%);
    background: var(--choco-dark); color: white;
    padding: 0.2rem 0.65rem; border-radius: var(--radius-sm);
    font-size: 0.7rem; font-weight: 700; pointer-events: none;
}
.recipe-form-container .highlight-input {
    background: #fdf8f3; padding: 1.4rem;
    border-radius: var(--radius-sm); border: 1px solid rgba(200,169,110,0.3);
}
.recipe-form-container .input-with-unit-large { position: relative; }
.recipe-form-container .input-with-unit-large input { padding-right: 3rem; font-size: 1.1rem; font-weight: 600; }
.recipe-form-container .unit-badge-large {
    position: absolute; right: 1rem; top: 50%; transform: translateY(-50%);
    background: var(--gold); color: var(--choco-dark);
    padding: 0.35rem 0.9rem; border-radius: var(--radius-sm); font-size: 0.85rem; font-weight: 700; pointer-events: none;
}
.recipe-form-container .form-hint { display: flex; align-items: center; gap: 0.5rem; color: var(--choco-milk); font-size: 0.82rem; margin-top: 0.5rem; font-style: italic; }

/* Ingrédients */
.recipe-form-container .ingredients-scroll-premium { max-height: 580px; overflow-y: auto; padding: 1.5rem; }
.recipe-form-container .ingredients-scroll-premium::-webkit-scrollbar       { width: 4px; }
.recipe-form-container .ingredients-scroll-premium::-webkit-scrollbar-track { background: var(--cream); }
.recipe-form-container .ingredients-scroll-premium::-webkit-scrollbar-thumb { background: var(--gold); }
.recipe-form-container .ingredients-list-premium { display: flex; flex-direction: column; gap: 0.75rem; margin-bottom: 1.5rem; }
.recipe-form-container .ingredient-item-premium {
    display: flex; align-items: stretch; gap: 0.75rem;
    background: var(--bg-body); padding: 0.9rem;
    border-radius: var(--radius-sm); border: 1px solid transparent; transition: all 0.2s ease;
}
.recipe-form-container .ingredient-item-premium:hover { border-color: var(--gold); background: white; box-shadow: var(--shadow-sm); }
.recipe-form-container .ingredient-drag-handle { display: flex; align-items: center; color: var(--choco-milk); cursor: grab; opacity: 0.4; }
.recipe-form-container .ingredient-item-premium:hover .ingredient-drag-handle { opacity: 0.9; color: var(--gold); }
.recipe-form-container .ingredient-inputs { flex: 1; display: flex; flex-direction: column; gap: 0.6rem; }
.recipe-form-container .ingredient-quantity-group { display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; }
.recipe-form-container .btn-remove-premium {
    background: transparent; border: 1px solid var(--cream-deep);
    color: var(--choco-milk); border-radius: var(--radius-sm);
    width: 38px; height: 38px;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; transition: all 0.2s ease; align-self: center;
}
.recipe-form-container .btn-remove-premium:hover { background: #fee; border-color: #e53935; color: #e53935; transform: rotate(90deg); }

/* Étapes */
.recipe-form-container .steps-scroll-premium { max-height: 580px; overflow-y: auto; padding: 1.5rem; }
.recipe-form-container .steps-scroll-premium::-webkit-scrollbar       { width: 4px; }
.recipe-form-container .steps-scroll-premium::-webkit-scrollbar-thumb { background: var(--gold); }
.recipe-form-container .steps-list-premium { display: flex; flex-direction: column; gap: 1rem; margin-bottom: 1.5rem; }
.recipe-form-container .step-item-premium {
    background: var(--bg-body); padding: 1rem;
    border-radius: var(--radius-sm); border: 1px solid transparent; transition: all 0.2s ease;
}
.recipe-form-container .step-item-premium:hover { border-color: var(--gold); background: white; box-shadow: var(--shadow-sm); }
.recipe-form-container .step-header-premium { display: flex; align-items: center; gap: 1rem; margin-bottom: 0.75rem; }
.recipe-form-container .step-number-circle {
    width: 38px; height: 38px; background: var(--choco-dark); color: white;
    border-radius: var(--radius-sm);
    display: flex; align-items: center; justify-content: center;
    font-weight: 700; font-size: 1rem; flex-shrink: 0;
}
.recipe-form-container .step-duration-wrapper { display: flex; align-items: center; gap: 0.5rem; flex: 1; }
.recipe-form-container .step-duration  { width: 75px; text-align: center; }
.recipe-form-container .duration-unit  { font-size: 0.82rem; color: var(--choco-milk); font-weight: 600; }
.recipe-form-container .step-textarea  { border: 1px dashed var(--cream-deep); }
.recipe-form-container .step-textarea:focus { border-style: solid; }

.recipe-form-container .btn-add-premium {
    width: 100%; padding: 0.9rem;
    background: var(--choco-dark); color: white;
    border: none; border-radius: var(--radius-sm);
    font-family: 'Poppins', sans-serif;
    font-weight: 700; font-size: 0.8rem; letter-spacing: 0.08em; text-transform: uppercase;
    display: flex; align-items: center; justify-content: center; gap: 0.75rem;
    cursor: pointer; transition: background 0.2s ease;
    position: relative; overflow: hidden;
}
.recipe-form-container .btn-add-premium::before {
    content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 3px; background: var(--gold);
}
.recipe-form-container .btn-add-premium:hover    { background: var(--choco-ink); }
.recipe-form-container .btn-add-premium i        { font-size: 1.1rem; transition: transform 0.25s; }
.recipe-form-container .btn-add-premium:hover i  { transform: rotate(90deg); }

/* Actions formulaire */
.recipe-form-container .form-actions-premium {
    display: flex; justify-content: space-between; align-items: center;
    padding: 2rem 0; margin-top: 2rem; border-top: 1px solid var(--cream-deep);
}
.recipe-form-container .actions-left,
.recipe-form-container .actions-right { display: flex; gap: 0.75rem; }
.recipe-form-container .btn-cancel-premium,
.recipe-form-container .btn-preview-premium,
.recipe-form-container .btn-submit-premium {
    padding: 0.85rem 1.8rem; border-radius: var(--radius-sm);
    font-family: 'Poppins', sans-serif;
    font-weight: 700; font-size: 0.8rem; letter-spacing: 0.08em; text-transform: uppercase;
    display: inline-flex; align-items: center; gap: 0.75rem;
    cursor: pointer; transition: all 0.2s ease; border: none; text-decoration: none;
}
.recipe-form-container .btn-cancel-premium  { background: white; color: var(--choco-dark); border: 1px solid var(--cream-deep); }
.recipe-form-container .btn-cancel-premium:hover { background: var(--cream); }
.recipe-form-container .btn-preview-premium { background: white; color: var(--choco-dark); border: 1px solid var(--cream-deep); }
.recipe-form-container .btn-preview-premium:hover { border-color: var(--gold); color: var(--gold); }
.recipe-form-container .btn-submit-premium {
    background: var(--choco-dark); color: white; box-shadow: var(--shadow-btn);
    position: relative; overflow: hidden;
}
.recipe-form-container .btn-submit-premium::before {
    content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 3px; background: var(--gold);
}
.recipe-form-container .btn-submit-premium:hover { background: var(--choco-ink); box-shadow: var(--shadow-btn-hover); }


/* ════════════════════════════════════════════════════════════════
   10. ALL RECIPES
   ════════════════════════════════════════════════════════════════ */

.sortable:hover { background-color: rgba(0,0,0,0.03); }
.table-check-all, .row-check { width: 16px; height: 16px; accent-color: var(--choco-dark); cursor: pointer; }

@media print {
    /* ── Éléments à masquer totalement ── */
    nav,
    footer,
    .btn,
    .no-print,
    .navbar,
    .sidebar,
    .shopping-bar,
    .action-grid,
    .servings-control,
    .servings-modified-badge,
    .rating-widget,
    .similar-recipes-section,
    #shoppingModal,
    #cookingMode,
    #deleteModal,
    #shareModal,
    #filterForm,
    .card.mb-4,
    thead tr th:first-child,
    thead tr th:nth-child(2),
    tbody tr td:first-child,
    tbody tr td:nth-child(2),
    .img-preview-wrapper,
    .img-placeholder,
    [data-bs-toggle],
    .sortable i,
    .btn-outline-primary,
    .btn-outline-secondary,
    .btn-outline-danger,
    .table-check-all,
    .row-check,
    nav[aria-label],
    .pagination,
    .page-item {
        display: none !important;
    }

    /* ── Mise en page générale ── */
    body {
        background: white !important;
        color: #3e2723 !important;
        font-size: 9pt !important;
        font-family: 'Georgia', serif !important;
    }

    .container, .container-fluid {
        max-width: 100% !important;
        padding: 0 !important;
        margin: 0 !important;
    }

    h1 {
        font-size: 16pt !important;
        margin-bottom: 4px !important;
        color: #3e2723 !important;
    }

    /* ── Tableau ── */
    .table {
        width: 100% !important;
        font-size: 8.5pt !important;
        border-collapse: collapse !important;
    }

    .table td, .table th {
        padding: 6px 8px !important;
        border: 1px solid #e8d5c4 !important;
        vertical-align: middle !important;
    }

    thead {
        background: #3e2723 !important;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }

    thead th {
        color: white !important;
        font-weight: bold !important;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }

    tbody tr:nth-child(even) {
        background: #fdf6f0 !important;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }

    /* ── Badges ── */
    .badge {
        border: 1px solid currentColor !important;
        padding: 2px 6px !important;
        font-size: 7.5pt !important;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }

    /* ── Images ── */
    img {
        max-width: 50px !important;
        max-height: 50px !important;
        object-fit: cover !important;
    }

    /* ── Sauts de page ── */
    table { page-break-inside: auto; }
    tr    { page-break-inside: avoid; }
    thead { display: table-header-group; }
}


/* ════════════════════════════════════════════════════════════════
   11. HISTORY — TIMELINE
   ════════════════════════════════════════════════════════════════ */

.timeline-container { position: relative; max-width: 800px; margin: 0 auto; padding: 20px 0; }
.timeline-container::before {
    content: ''; position: absolute; top: 0; bottom: 0; left: 80px;
    width: 1px; background: var(--cream-deep);
}
.timeline-item { display: flex; align-items: center; margin-bottom: 24px; position: relative; }
.timeline-date { width: 60px; text-align: center; font-family: 'Playfair Display', serif; color: var(--terracotta); line-height: 1; flex-shrink: 0; }
.timeline-date .day   { font-size: 1.4rem; font-weight: 700; display: block; }
.timeline-date .month { font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.05em; }
.timeline-date .year  { font-size: 0.68rem; color: var(--choco-milk); }

/* Marqueur carré — cohérent avec le langage angulaire */
.timeline-marker {
    width: 10px; height: 10px;
    background: var(--gold); border: 2px solid white;
    border-radius: 0;
    margin: 0 22px; z-index: 2; flex-shrink: 0;
    box-shadow: 0 0 0 1px var(--cream-deep);
}
.timeline-content { flex: 1; transition: transform var(--transition-base); }
.timeline-content:hover { transform: translateX(4px); }

.timeline-img { width: 56px; height: 56px; border-radius: var(--radius-sm); object-fit: cover; flex-shrink: 0; }
.timeline-img-placeholder {
    width: 56px; height: 56px; border-radius: var(--radius-sm);
    background: var(--cream); flex-shrink: 0;
    display: flex; align-items: center; justify-content: center;
    color: var(--terracotta); font-size: 1.4rem;
}


/* ════════════════════════════════════════════════════════════════
   12. AUTHENTIFICATION
   ════════════════════════════════════════════════════════════════ */

.auth-body { background: var(--bg-body); min-height: 100vh; display: flex; flex-direction: column; }
.auth-flash-container { position: fixed; top: 20px; right: 20px; z-index: 9999; min-width: 300px; max-width: 420px; }

.auth-page    { min-height: 100vh; display: flex; align-items: stretch; background: var(--bg-body); }
.auth-wrapper {
    display: flex; width: 100%; max-width: 1000px; margin: 2rem auto;
    border-radius: var(--radius-card); overflow: hidden;
    box-shadow: 0 20px 60px rgba(62,39,35,0.12);
    border: 1px solid var(--cream-deep);
}

.auth-deco {
    flex: 0 0 40%; background: var(--choco-dark);
    display: flex; align-items: center; justify-content: center;
    padding: 3rem 2rem; position: relative; overflow: hidden;
}
/* Ligne d'or en haut du panneau déco */
.auth-deco::before {
    content: ''; position: absolute; top: 0; left: 0; right: 0;
    height: 3px; background: var(--gold); z-index: 1;
}
.auth-deco::after {
    content: ''; position: absolute;
    width: 280px; height: 280px; border-radius: 50%;
    background: rgba(255,255,255,0.03); bottom: -70px; left: -70px;
}
.auth-deco-content { text-align: center; position: relative; z-index: 2; }
.deco-logo     { width: 80px; height: 80px; object-fit: contain; margin-bottom: 1.2rem; filter: drop-shadow(0 4px 10px rgba(0,0,0,0.25)); }
.deco-title    { font-family: 'Pinyon Script', cursive; font-size: 2.6rem; color: white; font-weight: 400; margin-bottom: 0.8rem; -webkit-text-fill-color: white; background: none; }
.deco-subtitle { color: rgba(255,255,255,0.6); font-size: 0.9rem; line-height: 1.6; }
.deco-dots     { display: flex; gap: 8px; justify-content: center; margin-top: 2rem; }
.deco-dots span { width: 6px; height: 6px; border-radius: 1px; background: rgba(255,255,255,0.25); }
.deco-dots span:first-child { background: var(--gold); }

.auth-form-panel  { flex: 1; background: white; display: flex; align-items: center; justify-content: center; padding: 3rem 2.5rem; }
.auth-form-inner  { width: 100%; max-width: 380px; }
.auth-form-header { margin-bottom: 2rem; }
.auth-form-header h2 { font-family: 'Playfair Display', serif; font-size: 1.8rem; color: var(--choco-dark); margin-bottom: 0.4rem; }
.auth-form-header p  { font-size: 0.88rem; color: var(--choco-milk); }

.auth-icon-circle {
    width: 56px; height: 56px; border-radius: var(--radius-card);
    background: var(--cream); border: 1px solid var(--cream-deep);
    display: flex; align-items: center; justify-content: center; margin: 0 0 1.5rem;
}
.auth-icon-circle i { font-size: 1.5rem; color: var(--terracotta); }

.auth-label { display: block; font-size: 0.76rem; font-weight: 700; color: var(--choco-milk); text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 0.4rem; }
.auth-input {
    width: 100%; padding: 0.75rem 1rem;
    border: 1px solid var(--cream-deep); border-radius: var(--radius-sm);
    font-family: 'Poppins', sans-serif; font-size: 0.92rem;
    color: var(--choco-dark); background: var(--bg-body);
    transition: border-color 0.2s ease; outline: none;
}
.auth-input:focus      { border-color: var(--gold); background: white; box-shadow: 0 0 0 3px rgba(200,169,110,0.12); }
.auth-input.is-valid   { border-color: #43a047; background: white; }
.auth-input.is-invalid { border-color: #e53935; background: white; }
.auth-input-group { position: relative; display: flex; align-items: center; }
.auth-input-group .auth-input { padding-right: 3rem; }
.auth-eye-btn { position: absolute; right: 0.75rem; background: none; border: none; color: var(--choco-milk); cursor: pointer; padding: 0; font-size: 1rem; transition: color 0.2s; }
.auth-eye-btn:hover { color: var(--gold); }
.auth-field-feedback { font-size: 0.78rem; margin-top: 0.3rem; min-height: 1rem; }
.auth-hint           { color: #aaa; font-size: 0.75rem; display: block; margin-top: 0.3rem; }
.auth-link-small     { font-size: 0.78rem; color: var(--gold); font-weight: 600; transition: color 0.2s; }
.auth-link-small:hover { color: var(--choco-dark); text-decoration: underline; }
.auth-checkbox       { width: 16px; height: 16px; accent-color: var(--choco-dark); cursor: pointer; flex-shrink: 0; }
.auth-checkbox-label { font-size: 0.85rem; color: var(--choco-milk); cursor: pointer; }

.auth-btn-primary {
    display: flex; align-items: center; justify-content: center; gap: 8px;
    background: var(--choco-dark); border: none; color: white;
    padding: 0.85rem 1.5rem; border-radius: var(--radius-sm);
    font-family: 'Poppins', sans-serif; font-size: 0.82rem;
    font-weight: 700; letter-spacing: 0.08em; text-transform: uppercase;
    cursor: pointer; transition: background 0.2s ease;
    box-shadow: var(--shadow-btn); position: relative; overflow: hidden;
}
.auth-btn-primary::before {
    content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 3px; background: var(--gold);
}
.auth-btn-primary:hover:not(:disabled) { background: var(--choco-ink); }
.auth-btn-primary:disabled { opacity: 0.65; cursor: not-allowed; }

.auth-switch-text { text-align: center; font-size: 0.85rem; color: var(--choco-milk); margin-bottom: 0; }
.auth-link        { color: var(--gold); font-weight: 700; transition: color 0.2s; }
.auth-link:hover  { color: var(--choco-dark); text-decoration: underline; }

.password-strength-container { display: flex; align-items: center; gap: 10px; }
.password-strength      { flex: 1; height: 3px; background: var(--cream-deep); border-radius: 0; overflow: hidden; }
.password-strength-bar  { height: 100%; width: 0%; transition: width 0.3s ease, background-color 0.3s ease; }
.bg-weak   { background-color: #e53935; }
.bg-medium { background-color: #f9a825; }
.bg-strong { background-color: #43a047; }
.strength-label { font-size: 0.75rem; font-weight: 700; white-space: nowrap; min-width: 40px; }
.password-checklist { display: flex; flex-direction: column; gap: 4px; }
.check-item   { display: flex; align-items: center; gap: 6px; font-size: 0.78rem; color: var(--choco-milk); }
.check-item i { font-size: 0.82rem; flex-shrink: 0; }

/* Page partage public */
.shared-header {
    background: var(--bg-body);
    box-shadow: inset 0 3px 0 0 var(--gold), 0 1px 0 var(--cream-deep);
    padding: 1rem 2rem;
    display: flex; align-items: center; justify-content: space-between;
    position: sticky; top: 0; z-index: 100;
}
.shared-brand      { display: flex; align-items: center; gap: 6px; text-decoration: none; }
.shared-brand img  { width: 36px; height: 36px; object-fit: contain; }
.shared-brand span { font-family: 'Pinyon Script', cursive; font-size: 1.7rem; background: linear-gradient(135deg, var(--gold) 0%, var(--terracotta-dark) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
.shared-banner {
    background: white; border: 1px solid var(--cream-deep);
    border-radius: var(--radius-sm); padding: 1rem 1.5rem; margin-bottom: 2rem;
    display: flex; align-items: center; justify-content: space-between; gap: 1rem; flex-wrap: wrap;
}
.shared-banner-text { font-size: 0.88rem; color: var(--choco-milk); }
.shared-banner-text strong { color: var(--choco-dark); }
.btn-join {
    display: inline-flex; align-items: center; gap: 6px;
    background: var(--choco-dark); color: white;
    padding: 8px 18px; border-radius: var(--radius-sm);
    font-size: 0.78rem; font-weight: 700; letter-spacing: 0.08em; text-transform: uppercase;
    transition: background var(--transition-base); white-space: nowrap;
}
.btn-join:hover { background: var(--choco-ink); color: white; }
.shared-footer  { text-align: center; padding: 2rem; color: #aaa; font-size: 0.8rem; }

/* Legacy auth pages (reset password…) */
.auth-container { min-height: 80vh; display: flex; align-items: center; justify-content: center; padding: 2rem 0; }
.card-auth  { border: 1px solid var(--cream-deep); border-radius: var(--radius-card); box-shadow: var(--shadow-sm); overflow: hidden; background: white; }
.auth-header { text-align: center; margin-bottom: 2rem; }
.auth-logo   { width: 70px; margin-bottom: 1rem; }


/* ════════════════════════════════════════════════════════════════
   13. SHOPPING BAR
   ════════════════════════════════════════════════════════════════ */

.shopping-bar {
    position: fixed; bottom: 24px; left: 50%;
    transform: translateX(-50%); z-index: 1050;
    animation: slideUpBar 0.3s ease;
}
@keyframes slideUpBar {
    from { opacity: 0; transform: translateX(-50%) translateY(16px); }
    to   { opacity: 1; transform: translateX(-50%) translateY(0); }
}
.shopping-bar-inner {
    display: flex; align-items: center; gap: 14px;
    background: var(--choco-dark);
    border-radius: var(--radius-sm);
    padding: 10px 10px 10px 18px;
    box-shadow: 0 8px 30px rgba(62,39,35,0.4);
    white-space: nowrap;
    border-top: 3px solid var(--gold); /* ligne d'or signature */
}
.shopping-bar-info { display: flex; align-items: center; gap: 8px; color: rgba(255,255,255,0.7); font-size: 0.82rem; font-weight: 600; }
.shopping-bar-info i { color: var(--gold); font-size: 1rem; }
#shoppingBarCount { color: white; font-family: 'Playfair Display', serif; font-size: 1.05rem; font-weight: 700; }
.shopping-bar-actions { display: flex; gap: 6px; align-items: center; }
.shopping-bar-btn-cancel {
    background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.15);
    color: rgba(255,255,255,0.6); border-radius: var(--radius-sm);
    padding: 7px 14px; font-size: 0.78rem; font-weight: 600; letter-spacing: 0.04em;
    cursor: pointer; transition: all 0.2s;
    display: inline-flex; align-items: center; gap: 5px;
}
.shopping-bar-btn-cancel:hover { background: rgba(255,255,255,0.15); color: white; }
.shopping-bar-btn-go {
    background: var(--gold); border: none; color: var(--choco-dark);
    border-radius: var(--radius-sm); padding: 8px 18px;
    font-size: 0.78rem; font-weight: 800; letter-spacing: 0.08em; text-transform: uppercase;
    cursor: pointer; transition: background 0.2s ease;
    display: inline-flex; align-items: center; gap: 6px;
}
.shopping-bar-btn-go:hover { background: var(--gold-light); }


/* ════════════════════════════════════════════════════════════════
   14. UTILITAIRES
   ════════════════════════════════════════════════════════════════ */

@keyframes slideInRight {
    from { transform: translateX(100%); opacity: 0; }
    to   { transform: translateX(0); opacity: 1; }
}

@keyframes twinkle {
    0%, 100% { opacity: 1; transform: scale(1); }
    50%       { opacity: 0.5; transform: scale(0.8); }
}



/* ════════════════════════════════════════════════════════════════
   CHAMP SOURCE — Formulaire & Fiche recette
   ════════════════════════════════════════════════════════════════ */

/* Label hint (sous-texte du label) */
.label-hint {
    font-size: 0.72rem;
    font-weight: 400;
    color: var(--choco-milk);
    opacity: 0.8;
    margin-left: 6px;
    font-style: italic;
}

/* Wrapper avec icône intégrée */
.source-input-wrapper {
    position: relative;
    display: flex;
    align-items: center;
}
.source-icon {
    position: absolute;
    left: 12px;
    color: var(--terracotta);
    font-size: 1.1rem;
    pointer-events: none;
    z-index: 1;
}
.source-input {
    padding-left: 2.4rem !important;
}

/* Affichage source sur la fiche recette */
.recipe-source {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-size: 0.82rem;
    font-family: 'Poppins', sans-serif;
    color: var(--choco-milk);
    font-style: italic;
}
.recipe-source i {
    color: var(--terracotta);
    font-size: 0.85rem;
    flex-shrink: 0;
    font-style: normal;
}
.recipe-source-link {
    color: var(--terracotta-dark);
    text-decoration: none;
    font-weight: 500;
    font-style: normal;
    border-bottom: 1px dashed var(--terracotta);
    transition: all var(--transition-base);
}
.recipe-source-link:hover {
    color: var(--choco-dark);
    border-bottom-style: solid;
}
.recipe-source-text {
    color: var(--choco-milk);
}



/* ════════════════════════════════════════════════════════════════
   TAG CLOUD — Index
   ════════════════════════════════════════════════════════════════ */

.tag-cloud {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px;
    padding: 0.5rem 0 1rem;
}

.tag-cloud-pill {
    display: inline-flex;
    align-items: center;
    background: transparent;
    border: 1px solid var(--cream-deep);
    color: var(--choco-milk);
    border-radius: var(--radius-sm);
    padding: 4px 12px;
    font-family: 'Poppins', sans-serif;
    font-size: 0.75rem;
    font-weight: 600;
    letter-spacing: 0.05em;
    cursor: pointer;
    transition: all var(--transition-base);
}
.tag-cloud-pill:hover {
    border-color: var(--terracotta-dark);
    color: var(--terracotta-dark);
    background: rgba(197, 157, 133, 0.08);
}
.tag-cloud-pill.active {
    background: var(--terracotta-dark);
    border-color: var(--terracotta-dark);
    color: white;
    box-shadow: 0 3px 10px rgba(166, 124, 101, 0.35);
}


/* ════════════════════════════════════════════════════════════════
   RECETTES SIMILAIRES — Fiche recette
   ════════════════════════════════════════════════════════════════ */

.similar-recipes-section {
    margin-top: 3rem;
    padding-top: 2rem;
    border-top: 1px solid var(--cream-deep);
}

.similar-recipes-header {
    display: flex;
    align-items: center;
    gap: 8px;
    font-family: 'Playfair Display', serif;
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--choco-dark);
    margin-bottom: 1.25rem;
}
.similar-recipes-header i {
    color: var(--terracotta-dark);
    font-size: 1rem;
}

.similar-recipe-card {
    display: block;
    text-decoration: none;
    border-radius: var(--radius-card);
    overflow: hidden;
    border: 1px solid var(--cream-deep);
    background: white;
    transition: all var(--transition-spring);
    box-shadow: var(--shadow-sm);
}
.similar-recipe-card:hover {
    transform: translateY(-3px);
    box-shadow: var(--shadow-hover);
    border-color: var(--terracotta);
}

.similar-recipe-img {
    height: 120px;
    overflow: hidden;
    background: var(--cream);
}
.similar-recipe-img img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.4s ease;
}
.similar-recipe-card:hover .similar-recipe-img img {
    transform: scale(1.05);
}
.similar-recipe-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--terracotta);
    font-size: 2rem;
    opacity: 0.4;
}

.similar-recipe-body {
    padding: 0.75rem 1rem;
}
.similar-recipe-title {
    font-family: 'Playfair Display', serif;
    font-size: 0.95rem;
    font-weight: 700;
    color: var(--choco-dark);
    margin-bottom: 0.3rem;
    line-height: 1.3;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.similar-recipe-meta {
    display: flex;
    gap: 10px;
    font-size: 0.75rem;
    color: var(--choco-milk);
    margin-bottom: 0.4rem;
}
.similar-recipe-meta i {
    color: var(--terracotta);
}
.similar-recipe-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
}
.similar-tag-match {
    background: rgba(197, 157, 133, 0.15);
    color: var(--terracotta-dark);
    font-size: 0.68rem;
    font-weight: 700;
    letter-spacing: 0.04em;
    padding: 2px 7px;
    border-radius: var(--radius-sm);
}



/* ════════════════════════════════════════════════════════════════
   15. MEDIA QUERIES — Toutes regroupées ici
   Ordre : large → petit
   ════════════════════════════════════════════════════════════════ */

/* ── 1199px : Tablette large ─────────────────────────────────── */
@media (max-width: 1199px) {
    .brand-logo   { width: 44px; height: 44px; }
    .brand-text   { font-size: 1.9rem; }
    .nav-link-premium { padding: 0 0.75rem; font-size: 0.75rem; }

    .search-form-premium .search-input-premium       { width: 120px; }
    .search-form-premium .search-input-premium:focus { width: 180px; }

    .recipe-form-container .progress-line { width: 70px; }
}

/* ── 991px : Collapse navbar / Tablette ──────────────────────── */
@media (max-width: 991px) {

    .navbar-brand  { height: 60px; }

    /* Navbar collapse — structure verticale */
    .navbar-actions {
        flex-direction: column;
        align-items: flex-start;
        width: 100%; height: auto;
        gap: 0; margin-top: 0;
        border-left: none;
        border-top: 1px solid var(--cream-deep);
    }
    .search-container {
        width: 100%; padding: 0.75rem 1rem;
        border-right: none; border-bottom: 1px solid var(--cream-deep);
        height: auto;
    }
    .search-form-premium { width: 100%; }
    .search-form-premium .search-input-premium,
    .search-form-premium .search-input-premium:focus { width: 100%; flex: 1; }

    .user-actions { width: 100%; height: auto; flex-direction: row; }
    .user-badge   { flex: 1; justify-content: center; padding: 0.75rem 1rem; height: auto; border-right: 1px solid var(--cream-deep); border-bottom: none; }
    .btn-logout, .btn-login, .btn-register { flex: 1; justify-content: center; padding: 0.75rem 1rem; height: auto; border-radius: 0; }

    /* Recipe form */
    .recipe-form-container .hero-title  { font-size: 2rem; }
    .recipe-form-container .step-circle { width: 46px; height: 46px; }
    .recipe-form-container .time-servings-grid { grid-template-columns: 1fr 1fr; }
    .recipe-form-container .form-actions-premium { flex-direction: column; gap: 0.75rem; }
    .recipe-form-container .actions-left,
    .recipe-form-container .actions-right { width: 100%; flex-direction: column; }
    .recipe-form-container .btn-cancel-premium,
    .recipe-form-container .btn-preview-premium,
    .recipe-form-container .btn-submit-premium { width: 100%; justify-content: center; }

    /* Mode cuisine */
    .cooking-controls { display: flex; flex-direction: column-reverse; gap: 1.25rem; }
    .chef-tip-box     { width: 100%; }
    .mobile-btn-group { display: flex; width: 100%; gap: 1rem; }
    .mobile-btn-group .btn { flex: 1; }

    /* Détail */
    .action-grid      { grid-template-columns: 1fr; gap: 0.75rem; }
    .recipe-main-title { font-size: 1.9rem; }
}

/* ── 767px : Mobile large ────────────────────────────────────── */
@media (max-width: 767px) {

    .brand-logo { width: 36px; height: 36px; }
    .brand-text { font-size: 1.55rem; }

    .footer { padding: 2.5rem 0 1.5rem; }
    .brand-logo-footer  { height: 60px; }
    .footer-brand span  { font-size: 2.6rem; }
    .footer-text        { font-size: 0.88rem; }

    /* Bouton créer : icône seule sur mobile */
    .btn-add-recipe span { display: none; }
    .btn-add-recipe {
        padding: 0; width: 42px; height: 42px;
        justify-content: center; border-radius: var(--radius-sm);
    }
    .btn-add-recipe::before { display: none; }

    .recipe-card-image { height: 185px; }
    .recipe-card-title { font-size: 1.1rem; }
    .recipe-card-body  { padding: 1.2rem; }

    .recipe-image-wrapper  { height: 260px; max-width: 100%; }
    .recipe-main-title     { font-size: 1.65rem; }
    .step-instruction-big  { font-size: 1.1rem; }
    #cookingMode           { padding: 1rem; }

    /* Filtres en colonne */
    .filters-container { flex-direction: column; padding: 5px; gap: 4px; }
    .search-wrapper    { min-width: 0; border-right: none; border-bottom: none; }
    .filter-wrapper    { border-right: none; border-bottom: none; flex: 1; max-width: none; min-width: 0; }
    .filter-wrapper:last-child { border-bottom: none; }
    .form-select-filter { height: 46px; font-size: 0.85rem; }
    .btn-reset-filters  { width: 100%; height: 44px; border-left: none; }

    /* Catégories */
    .cat-pill { padding: 0.6rem 1rem; font-size: 0.74rem; }

    /* Timeline */
    .timeline-container::before { left: 16px; }
    .timeline-date  { display: none; }
    .timeline-marker { margin: 0 14px; }
    .timeline-img,
    .timeline-img-placeholder { width: 48px; height: 48px; }

    /* Auth */
    .auth-wrapper    { flex-direction: column; margin: 0; border-radius: 0; min-height: 100vh; }
    .auth-deco       { flex: 0 0 auto; padding: 2rem 1.5rem; }
    .deco-title      { font-size: 2rem; }
    .deco-logo       { width: 54px; height: 54px; }
    .auth-form-panel { padding: 2rem 1.25rem; align-items: flex-start; }
    .auth-form-inner { max-width: 100%; }
    .auth-flash-container { right: 10px; left: 10px; min-width: 0; max-width: none; }

    .recipe-form-container .hero-title    { font-size: 1.75rem; }
    .recipe-form-container .hero-subtitle { font-size: 0.9rem; }
    .recipe-form-container .time-servings-grid { grid-template-columns: 1fr; }
    .recipe-form-container .card-body-modern { padding: 1.25rem; }

    /* Shopping bar */
    .shopping-bar-inner { gap: 8px; padding: 8px 8px 8px 12px; }
    .shopping-bar-info span:not(#shoppingBarCount) { display: none; }
    .shopping-bar-btn-cancel span { display: none; }
}

/* ── 575px : Mobile small ────────────────────────────────────── */
@media (max-width: 575px) {

    .recipe-card-image { height: 155px; }
    .recipe-meta-row   { gap: 10px; font-size: 0.76rem; }

    .pill-circle  { width: 34px; height: 34px; font-size: 1rem; }
    .pill-text    { font-size: 0.5rem; }
    .rating-pills { gap: 4px; }

    .servings-display { min-width: 70px; padding: 0 8px; }

    .recipe-form-container .hero-title  { font-size: 1.5rem; }
    .recipe-form-container .form-progress { gap: 0.4rem; }
    .recipe-form-container .progress-line { width: 36px; }
    .recipe-form-container .step-label    { font-size: 0.66rem; }
    .recipe-form-container .photo-preview-zone { height: 190px; }
    .recipe-form-container .ingredient-quantity-group { grid-template-columns: 1fr; }

    .timeline-marker   { margin: 0 10px; }
    .btn-reset-history { padding: 10px 20px; font-size: 0.8rem; }

    .footer-brand span { font-size: 2.2rem; }
    .brand-logo-footer { height: 48px; }
}

/* ── 380px : iPhone SE / très petits ────────────────────────── */
@media (max-width: 380px) {

    .brand-logo { width: 30px; height: 30px; }
    .brand-text { font-size: 1.3rem; }

    .recipe-card-title { font-size: 1rem; }
    .recipe-main-title { font-size: 1.4rem; }
    .cat-pill { padding: 0.55rem 0.8rem; font-size: 0.7rem; }

    .pill-circle  { width: 28px; height: 28px; font-size: 0.85rem; }
    .pill-text    { display: none; }
    .rating-pills { gap: 3px; }

    .shopping-bar-inner      { padding: 6px; gap: 5px; }
    .shopping-bar-btn-cancel { display: none; }

    .recipe-form-container .step-circle { width: 38px; height: 38px; }
    .recipe-form-container .hero-icon   { width: 50px; height: 50px; }
}